services:
  # Backend service
  - type: web
    name: taskmind-backend
    env:  docker
    dockerfilePath: ./BackEnd/Dockerfile
    dockerContext: .
    region: oregon  # or singapore, frankfurt, ohio
    plan: free
    healthCheckPath: /tasks
    envVars:
      - key:  DATABASE_URL
        value: sqlite:///data/taskmind.db
      - key: GROQ_API_KEY
        sync: false  # Will add manually in dashboard
    disk:
      name: taskmind-data
      mountPath: /app/data
      sizeGB: 1

  # Frontend service
  - type: web
    name: taskmind-frontend
    env: docker
    dockerfilePath: ./FrontEnd/Dockerfile
    dockerContext: .
    region: oregon
    plan: free
    envVars:
      - key:  BACKEND_URL
        value:  https://taskmind-backend.onrender.com  # Will update after backend deploys